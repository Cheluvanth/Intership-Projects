###### -- Query to Analyze Average Prices by Region

###### -- Shows simple average, median, and price change relative to listing price.



SELECT

&nbsp;   P.region,

&nbsp;   COUNT(T.transaction\_id) AS total\_sales,

&nbsp;   ROUND(AVG(T.final\_sale\_price), 2) AS avg\_sale\_price,

&nbsp;   ROUND(MIN(T.final\_sale\_price), 2) AS min\_sale\_price,

&nbsp;   ROUND(MAX(T.final\_sale\_price), 2) AS max\_sale\_price,

&nbsp;   -- Percentage difference from listing price

&nbsp;   ROUND(AVG((T.final\_sale\_price - P.listing\_price) / P.listing\_price) \* 100, 2) AS avg\_price\_difference\_pct

FROM

&nbsp;   Transactionss T

JOIN

&nbsp;   Properties P ON T.property\_id = P.property\_id

GROUP BY

&nbsp;   P.region

ORDER BY

&nbsp;   avg\_sale\_price DESC;



